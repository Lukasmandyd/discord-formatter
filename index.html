<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Discord Message Formatter</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Custom Tailwind theme configuration
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'discord-dark': '#2c2f33',
              'discord-darker': '#23272a',
              'discord-light': '#99aab5',
              'discord-blurple': '#5865f2',
            },
            fontFamily: {
              sans: ['Helvetica Neue', 'Helvetica', 'Arial', 'sans-serif'],
            }
          },
        },
      }
    </script>
    <!-- Link to custom styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-discord-darker">

    <div class="min-h-screen font-sans text-discord-light flex flex-col items-center p-4 sm:p-6 md:p-8">
        <div class="w-full max-w-4xl mx-auto">
            <!-- Header -->
            <header class="text-center mb-8">
                <h1 class="text-4xl sm:text-5xl font-bold text-white">Discord Message Formatter</h1>
                <p class="text-lg text-discord-light mt-2">Use AI to make your messages pop with formatting and emojis ✨</p>
            </header>

            <!-- Main Content -->
            <main class="bg-discord-dark rounded-lg shadow-2xl p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    
                    <!-- Left Column: Input & Options -->
                    <div>
                        <h2 class="text-lg font-semibold text-white mb-3">Your Message</h2>
                        <textarea id="rawMessageInput" class="w-full h-48 p-3 bg-discord-darker border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-discord-blurple resize-y" placeholder="Type your message here..."></textarea>
                        
                        <div class="mt-4">
                            <h3 class="text-lg font-semibold text-white mb-3">Formatting Options</h3>
                            <div class="space-y-4">
                                <!-- Option: Use Emojis -->
                                <div class="flex items-center justify-between bg-discord-darker p-3 rounded-md">
                                    <label for="useEmojis" class="text-white">Use Emojis</label>
                                    <input id="useEmojis" type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-discord-blurple focus:ring-discord-blurple" checked>
                                </div>
                                <!-- Option: Add Hashtags -->
                                <div class="flex items-center justify-between bg-discord-darker p-3 rounded-md">
                                    <label for="addHashtags" class="text-white">Add Hashtags</label>
                                    <input id="addHashtags" type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-discord-blurple focus:ring-discord-blurple">
                                </div>
                                <!-- Option: Formatting Style -->
                                <div class="bg-discord-darker p-3 rounded-md">
                                    <label for="formattingStyle" class="block text-white mb-2">Formatting Style</label>
                                    <select id="formattingStyle" class="w-full p-2 bg-discord-dark border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-discord-blurple">
                                        <option value="expressive">Expressive</option>
                                        <option value="professional">Professional</option>
                                        <option value="minimal">Minimal</option>
                                        <option value="bold">Bold & Loud</option>
                                    </select>
                                </div>
                                <!-- Option: Tone -->
                                <div class="bg-discord-darker p-3 rounded-md">
                                    <label for="tone" class="block text-white mb-2">Tone</label>
                                    <select id="tone" class="w-full p-2 bg-discord-dark border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-discord-blurple">
                                        <option value="casual">Casual</option>
                                        <option value="enthusiastic">Enthusiastic</option>
                                        <option value="formal">Formal</option>
                                        <option value="humorous">Humorous</option>
                                    </select>
                                </div>
                                <!-- Option: Message Length -->
                                <div class="bg-discord-darker p-3 rounded-md">
                                    <label for="messageLength" class="block text-white mb-2">Message Length</label>
                                    <select id="messageLength" class="w-full p-2 bg-discord-dark border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-discord-blurple">
                                        <option value="default">Default</option>
                                        <option value="concise">Concise</option>
                                        <option value="detailed">Detailed</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column: Output -->
                    <div>
                        <h2 class="text-lg font-semibold text-white mb-3">Formatted Output</h2>
                        <div id="outputArea" class="w-full min-h-[30rem] p-4 bg-discord-darker border border-gray-600 rounded-md text-white prose prose-invert max-w-none">
                            <div id="loader" class="hidden loader-container">
                                <div class="loader"></div>
                                <p class="mt-4">Formatting...</p>
                            </div>
                            <div id="errorMessage" class="hidden text-red-400"></div>
                            <div id="formattedMessageOutput"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Action Button -->
                <div class="mt-6 border-t border-gray-700 pt-6 flex justify-end">
                    <button id="formatButton" disabled class="flex items-center justify-center gap-2 bg-discord-blurple hover:bg-indigo-500 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105">
                        <span id="buttonText">Format Message</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </button>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Main application logic -->
    <script type="module" src="script.js"></script>
</body>
</html>